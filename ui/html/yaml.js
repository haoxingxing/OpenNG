!function(){"use strict";const t=Symbol.for("yaml.alias"),e=Symbol.for("yaml.document"),n=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),r=Symbol.for("yaml.scalar"),i=Symbol.for("yaml.seq"),s=Symbol.for("yaml.node.type"),a=e=>!!e&&"object"==typeof e&&e[s]===t,l=t=>!!t&&"object"==typeof t&&t[s]===e,c=t=>!!t&&"object"==typeof t&&t[s]===n,f=t=>!!t&&"object"==typeof t&&t[s]===o,u=t=>!!t&&"object"==typeof t&&t[s]===r,g=t=>!!t&&"object"==typeof t&&t[s]===i;function m(t){if(t&&"object"==typeof t)switch(t[s]){case n:case i:return!0}return!1}function d(e){if(e&&"object"==typeof e)switch(e[s]){case t:case n:case r:case i:return!0}return!1}const h=t=>(u(t)||m(t))&&!!t.anchor,p=Symbol("break visit"),y=Symbol("skip children"),b=Symbol("remove node");function v(t,e){const n=$(e);l(t)?w(null,t.contents,n,Object.freeze([t]))===b&&(t.contents=null):w(null,t,n,Object.freeze([]))}function w(t,e,n,o){const r=N(t,e,n,o);if(d(r)||f(r))return E(t,o,r),w(t,r,n,o);if("symbol"!=typeof r)if(m(e)){o=Object.freeze(o.concat(e));for(let t=0;t<e.items.length;++t){const r=w(t,e.items[t],n,o);if("number"==typeof r)t=r-1;else{if(r===p)return p;r===b&&(e.items.splice(t,1),t-=1)}}}else if(f(e)){o=Object.freeze(o.concat(e));const t=w("key",e.key,n,o);if(t===p)return p;t===b&&(e.key=null);const r=w("value",e.value,n,o);if(r===p)return p;r===b&&(e.value=null)}return r}async function S(t,e){const n=$(e);l(t)?await O(null,t.contents,n,Object.freeze([t]))===b&&(t.contents=null):await O(null,t,n,Object.freeze([]))}async function O(t,e,n,o){const r=await N(t,e,n,o);if(d(r)||f(r))return E(t,o,r),O(t,r,n,o);if("symbol"!=typeof r)if(m(e)){o=Object.freeze(o.concat(e));for(let t=0;t<e.items.length;++t){const r=await O(t,e.items[t],n,o);if("number"==typeof r)t=r-1;else{if(r===p)return p;r===b&&(e.items.splice(t,1),t-=1)}}}else if(f(e)){o=Object.freeze(o.concat(e));const t=await O("key",e.key,n,o);if(t===p)return p;t===b&&(e.key=null);const r=await O("value",e.value,n,o);if(r===p)return p;r===b&&(e.value=null)}return r}function $(t){return"object"==typeof t&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function N(t,e,n,o){return"function"==typeof n?n(t,e,o):c(e)?n.Map?.(t,e,o):g(e)?n.Seq?.(t,e,o):f(e)?n.Pair?.(t,e,o):u(e)?n.Scalar?.(t,e,o):a(e)?n.Alias?.(t,e,o):void 0}function E(t,e,n){const o=e[e.length-1];if(m(o))o.items[t]=n;else if(f(o))"key"===t?o.key=n:o.value=n;else{if(!l(o)){const t=a(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${t} parent`)}o.contents=n}}v.BREAK=p,v.SKIP=y,v.REMOVE=b,S.BREAK=p,S.SKIP=y,S.REMOVE=b;const k={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class A{constructor(t,e){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},A.defaultYaml,t),this.tags=Object.assign({},A.defaultTags,e)}clone(){const t=new A(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new A(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:A.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},A.defaultTags)}return t}add(t,e){this.atNextDocument&&(this.yaml={explicit:A.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},A.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),o=n.shift();switch(o){case"%TAG":{if(2!==n.length&&(e(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[t,o]=n;return this.tags[t]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return e(0,"%YAML directive should contain exactly one part"),!1;const[t]=n;return"1.1"===t||"1.2"===t?(this.yaml.version=t,!0):(e(6,`Unsupported YAML version ${t}`,/^\d+\.\d+$/.test(t)),!1)}default:return e(0,`Unknown directive ${o}`,!0),!1}}tagName(t,e){if("!"===t)return"!";if("!"!==t[0])return e(`Not a valid tag: ${t}`),null;if("<"===t[1]){const n=t.slice(2,-1);return"!"===n||"!!"===n?(e(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&e("Verbatim tags must end with a >"),n)}const[,n,o]=t.match(/^(.*!)([^!]*)$/s);o||e(`The ${t} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(o)}catch(t){return e(String(t)),null}return"!"===n?t:(e(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[e,n]of Object.entries(this.tags))if(t.startsWith(n))return e+t.substring(n.length).replace(/[!,[\]{}]/g,(t=>k[t]));return"!"===t[0]?t:`!<${t}>`}toString(t){const e=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(t&&n.length>0&&d(t.contents)){const e={};v(t.contents,((t,n)=>{d(n)&&n.tag&&(e[n.tag]=!0)})),o=Object.keys(e)}else o=[];for(const[r,i]of n)"!!"===r&&"tag:yaml.org,2002:"===i||t&&!o.some((t=>t.startsWith(i)))||e.push(`%TAG ${r} ${i}`);return e.join("\n")}}function I(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const e=JSON.stringify(t);throw new Error(`Anchor must not contain whitespace or control characters: ${e}`)}return!0}function j(t,e,n,o){if(o&&"object"==typeof o)if(Array.isArray(o))for(let e=0,n=o.length;e<n;++e){const n=o[e],r=j(t,o,String(e),n);void 0===r?delete o[e]:r!==n&&(o[e]=r)}else if(o instanceof Map)for(const e of Array.from(o.keys())){const n=o.get(e),r=j(t,o,e,n);void 0===r?o.delete(e):r!==n&&o.set(e,r)}else if(o instanceof Set)for(const e of Array.from(o)){const n=j(t,o,e,e);void 0===n?o.delete(e):n!==e&&(o.delete(e),o.add(n))}else for(const[e,n]of Object.entries(o)){const r=j(t,o,e,n);void 0===r?delete o[e]:r!==n&&(o[e]=r)}return t.call(e,n,o)}function x(t,e,n){if(Array.isArray(t))return t.map(((t,e)=>x(t,String(e),n)));if(t&&"function"==typeof t.toJSON){if(!n||!h(t))return t.toJSON(e,n);const o={aliasCount:0,count:1,res:void 0};n.anchors.set(t,o),n.onCreate=t=>{o.res=t,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return"bigint"!=typeof t||n?.keep?t:Number(t)}A.defaultYaml={explicit:!1,version:"1.2"},A.defaultTags={"!!":"tag:yaml.org,2002:"};class C{constructor(t){Object.defineProperty(this,s,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:e,maxAliasCount:n,onAnchor:o,reviver:r}={}){if(!l(t))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:t,keep:!0,mapAsMap:!0===e,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},s=x(this,"",i);if("function"==typeof o)for(const{count:t,res:e}of i.anchors.values())o(e,t);return"function"==typeof r?j(r,{"":s},"",s):s}}class L extends C{constructor(e){super(t),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return v(t,{Node:(t,n)=>{if(n===this)return v.BREAK;n.anchor===this.source&&(e=n)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:n,doc:o,maxAliasCount:r}=e,i=this.resolve(o);if(!i){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(t)}let s=n.get(i);if(s||(x(i,null,e),s=n.get(i)),!s||void 0===s.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(r>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=B(o,i,n)),s.count*s.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(t,e,n){const o=`*${this.source}`;if(t){if(I(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(t)}if(t.implicitKey)return`${o} `}return o}}function B(t,e,n){if(a(e)){const o=e.resolve(t),r=n&&o&&n.get(o);return r?r.count*r.aliasCount:0}if(m(e)){let o=0;for(const r of e.items){const e=B(t,r,n);e>o&&(o=e)}return o}if(f(e)){const o=B(t,e.key,n),r=B(t,e.value,n);return Math.max(o,r)}return 1}const T=t=>!t||"function"!=typeof t&&"object"!=typeof t;class F extends C{constructor(t){super(r),this.value=t}toJSON(t,e){return e?.keep?this.value:x(this.value,t,e)}toString(){return String(this.value)}}F.BLOCK_FOLDED="BLOCK_FOLDED",F.BLOCK_LITERAL="BLOCK_LITERAL",F.PLAIN="PLAIN",F.QUOTE_DOUBLE="QUOTE_DOUBLE",F.QUOTE_SINGLE="QUOTE_SINGLE";const M="tag:yaml.org,2002:";function _(t,e,o){if(l(t)&&(t=t.contents),d(t))return t;if(f(t)){const e=o.schema[n].createNode?.(o.schema,null,o);return e.items.push(t),e}(t instanceof String||t instanceof Number||t instanceof Boolean||"undefined"!=typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:a,schema:c,sourceObjects:u}=o;let g;if(r&&t&&"object"==typeof t){if(g=u.get(t),g)return g.anchor||(g.anchor=s(t)),new L(g.anchor);g={anchor:null,node:null},u.set(t,g)}e?.startsWith("!!")&&(e=M+e.slice(2));let m=function(t,e,n){if(e){const t=n.filter((t=>t.tag===e)),o=t.find((t=>!t.format))??t[0];if(!o)throw new Error(`Tag ${e} not found`);return o}return n.find((e=>e.identify?.(t)&&!e.format))}(t,e,c.tags);if(!m){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){const e=new F(t);return g&&(g.node=e),e}m=t instanceof Map?c[n]:Symbol.iterator in Object(t)?c[i]:c[n]}a&&(a(m),delete o.onTagObj);const h=m?.createNode?m.createNode(o.schema,t,o):"function"==typeof m?.nodeClass?.from?m.nodeClass.from(o.schema,t,o):new F(t);return e?h.tag=e:m.default||(h.tag=m.tag),g&&(g.node=h),h}function K(t,e,n){let o=n;for(let t=e.length-1;t>=0;--t){const n=e[t];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const t=[];t[n]=o,o=t}else o=new Map([[n,o]])}return _(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}class D extends C{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map((e=>d(e)||f(e)?e.clone(t):e)),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if((t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done)(t))this.add(e);else{const[n,...o]=t,r=this.get(n,!0);if(m(r))r.addIn(o,e);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,K(this.schema,o,e))}}}deleteIn(t){const[e,...n]=t;if(0===n.length)return this.delete(e);const o=this.get(e,!0);if(m(o))return o.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn(t,e){const[n,...o]=t,r=this.get(n,!0);return 0===o.length?!e&&u(r)?r.value:r:m(r)?r.getIn(o,e):void 0}hasAllNullValues(t){return this.items.every((e=>{if(!f(e))return!1;const n=e.value;return null==n||t&&u(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(t){const[e,...n]=t;if(0===n.length)return this.has(e);const o=this.get(e,!0);return!!m(o)&&o.hasIn(n)}setIn(t,e){const[n,...o]=t;if(0===o.length)this.set(n,e);else{const t=this.get(n,!0);if(m(t))t.setIn(o,e);else{if(void 0!==t||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,K(this.schema,o,e))}}}}D.maxFlowStringSingleLineLength=60;const P=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function J(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const U=(t,e,n)=>t.endsWith("\n")?J(n,e):n.includes("\n")?"\n"+J(n,e):(t.endsWith(" ")?"":" ")+n,R="flow",W="block",V="quoted";function q(t,e,n="flow",{indentAtStart:o,lineWidth:r=80,minContentWidth:i=20,onFold:s,onOverflow:a}={}){if(!r||r<0)return t;const l=Math.max(1+i,1+r-e.length);if(t.length<=l)return t;const c=[],f={};let u,g,m=r-e.length;"number"==typeof o&&(o>r-Math.max(2,i)?c.push(0):m=r-o);let d=!1,h=-1,p=-1,y=-1;n===W&&(h=Y(t,h),-1!==h&&(m=h+l));for(let e;e=t[h+=1];){if(n===V&&"\\"===e){switch(p=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}y=h}if("\n"===e)n===W&&(h=Y(t,h)),m=h+l,u=void 0;else{if(" "===e&&g&&" "!==g&&"\n"!==g&&"\t"!==g){const e=t[h+1];e&&" "!==e&&"\n"!==e&&"\t"!==e&&(u=h)}if(h>=m)if(u)c.push(u),m=u+l,u=void 0;else if(n===V){for(;" "===g||"\t"===g;)g=e,e=t[h+=1],d=!0;const n=h>y+1?h-2:p-1;if(f[n])return t;c.push(n),f[n]=!0,m=n+l,u=void 0}else d=!0}g=e}if(d&&a&&a(),0===c.length)return t;s&&s();let b=t.slice(0,c[0]);for(let o=0;o<c.length;++o){const r=c[o],i=c[o+1]||t.length;0===r?b=`\n${e}${t.slice(0,i)}`:(n===V&&f[r]&&(b+=`${t[r]}\\`),b+=`\n${e}${t.slice(r+1,i)}`)}return b}function Y(t,e){let n=t[e+1];for(;" "===n||"\t"===n;){do{n=t[e+=1]}while(n&&"\n"!==n);n=t[e+1]}return e}const Q=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),z=t=>/^(%|---|\.\.\.)/m.test(t);function G(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:o}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(z(t)?"  ":"");let s="",a=0;for(let t=0,e=n[t];e;e=n[++t])if(" "===e&&"\\"===n[t+1]&&"n"===n[t+2]&&(s+=n.slice(a,t)+"\\ ",t+=1,a=t,e="\\"),"\\"===e)switch(n[t+1]){case"u":{s+=n.slice(a,t);const e=n.substr(t+2,4);switch(e){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===e.substr(0,2)?s+="\\x"+e.substr(2):s+=n.substr(t,6)}t+=5,a=t+1}break;case"n":if(o||'"'===n[t+2]||n.length<r)t+=1;else{for(s+=n.slice(a,t)+"\n\n";"\\"===n[t+2]&&"n"===n[t+3]&&'"'!==n[t+4];)s+="\n",t+=2;s+=i," "===n[t+2]&&(s+="\\"),t+=1,a=t+1}break;default:t+=1}return s=a?s+n.slice(a):n,o?s:q(s,i,V,Q(e,!1))}function X(t,e){if(!1===e.options.singleQuote||e.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return G(t,e);const n=e.indent||(z(t)?"  ":""),o="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return e.implicitKey?o:q(o,n,R,Q(e,!1))}function Z(t,e){const{singleQuote:n}=e.options;let o;if(!1===n)o=G;else{const e=t.includes('"'),r=t.includes("'");o=e&&!r?X:r&&!e?G:n?X:G}return o(t,e)}let H;try{H=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{H=/\n+(?!\n|$)/g}function tt({comment:t,type:e,value:n},o,r,i){const{blockQuote:s,commentString:a,lineWidth:l}=o.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Z(n,o);const c=o.indent||(o.forceBlockIndent||z(n)?"  ":""),f="literal"===s||"folded"!==s&&e!==F.BLOCK_FOLDED&&(e===F.BLOCK_LITERAL||!function(t,e,n){if(!e||e<0)return!1;const o=e-n,r=t.length;if(r<=o)return!1;for(let e=0,n=0;e<r;++e)if("\n"===t[e]){if(e-n>o)return!0;if(n=e+1,r-n<=o)return!1}return!0}(n,l,c.length));if(!n)return f?"|\n":">\n";let u,g;for(g=n.length;g>0;--g){const t=n[g-1];if("\n"!==t&&"\t"!==t&&" "!==t)break}let m=n.substring(g);const d=m.indexOf("\n");-1===d?u="-":n===m||d!==m.length-1?(u="+",i&&i()):u="",m&&(n=n.slice(0,-m.length),"\n"===m[m.length-1]&&(m=m.slice(0,-1)),m=m.replace(H,`$&${c}`));let h,p=!1,y=-1;for(h=0;h<n.length;++h){const t=n[h];if(" "===t)p=!0;else{if("\n"!==t)break;y=h}}let b=n.substring(0,y<h?y+1:h);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let v=(f?"|":">")+(p?c?"2":"1":"")+u;return t&&(v+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),f?`${v}\n${c}${b}${n=n.replace(/\n+/g,`$&${c}`)}${m}`:`${v}\n${c}${q(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`)}${m}`,c,W,Q(o,!0))}`}function et(t,e,n,o){const{implicitKey:r,inFlow:i}=e,s="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==F.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=F.QUOTE_DOUBLE);const l=t=>{switch(t){case F.BLOCK_FOLDED:case F.BLOCK_LITERAL:return r||i?Z(s.value,e):tt(s,e,n,o);case F.QUOTE_DOUBLE:return G(s.value,e);case F.QUOTE_SINGLE:return X(s.value,e);case F.PLAIN:return function(t,e,n,o){const{type:r,value:i}=t,{actualString:s,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&i.includes("\n")||f&&/[[\]{},]/.test(i))return Z(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||f||!i.includes("\n")?Z(i,e):tt(t,e,n,o);if(!a&&!f&&r!==F.PLAIN&&i.includes("\n"))return tt(t,e,n,o);if(z(i)){if(""===l)return e.forceBlockIndent=!0,tt(t,e,n,o);if(a&&l===c)return Z(i,e)}const u=i.replace(/\n+/g,`$&\n${l}`);if(s){const t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(u),{compat:n,tags:o}=e.doc.schema;if(o.some(t)||n?.some(t))return Z(i,e)}return a?u:q(u,l,R,Q(e,!1))}(s,e,n,o);default:return null}};let c=l(a);if(null===c){const{defaultKeyType:t,defaultStringType:n}=e.options,o=r&&t||n;if(c=l(o),null===c)throw new Error(`Unsupported default string type ${o}`)}return c}function nt(t,e,n,o){if(f(t))return t.toString(e,n,o);if(a(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const i=d(t)?t:e.doc.createNode(t,{onTagObj:t=>r=t});r||(r=function(t,e){if(e.tag){const n=t.filter((t=>t.tag===e.tag));if(n.length>0)return n.find((t=>t.format===e.format))??n[0]}let n,o;if(u(e)){o=e.value;const r=t.filter((t=>t.identify?.(o)));n=r.find((t=>t.format===e.format))??r.find((t=>!t.format))}else o=e,n=t.find((t=>t.nodeClass&&o instanceof t.nodeClass));if(!n)throw new Error(`Tag not resolved for ${o?.constructor?.name??typeof o} value`);return n}(e.doc.schema.tags,i));const s=function(t,e,{anchors:n,doc:o}){if(!o.directives)return"";const r=[],i=(u(t)||m(t))&&t.anchor;i&&I(i)&&(n.add(i),r.push(`&${i}`));const s=t.tag?t.tag:e.default?null:e.tag;return s&&r.push(o.directives.tagString(s)),r.join(" ")}(i,r,e);s.length>0&&(e.indentAtStart=(e.indentAtStart??0)+s.length+1);const l="function"==typeof r.stringify?r.stringify(i,e,n,o):u(i)?et(i,e,n,o):i.toString(e,n,o);return s?u(i)||"{"===l[0]||"["===l[0]?`${s} ${l}`:`${s}\n${e.indent}${l}`:l}function ot(t,e,{key:n,value:o}){if(t?.doc.schema.merge&&rt(n))if(o=a(o)?o.resolve(t.doc):o,g(o))for(const n of o.items)it(t,e,n);else if(Array.isArray(o))for(const n of o)it(t,e,n);else it(t,e,o);else{const r=x(n,"",t);if(e instanceof Map)e.set(r,x(o,r,t));else if(e instanceof Set)e.add(r);else{const i=function(t,e,n){if(null===e)return"";if("object"!=typeof e)return String(e);if(d(t)&&n?.doc){const e=function(t,e){const n=Object.assign({blockQuote:!0,commentString:P,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,{});let o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:o,options:n}}(n.doc);e.anchors=new Set;for(const t of n.anchors.keys())e.anchors.add(t.anchor);e.inFlow=!0,e.inStringifyKey=!0;const i=t.toString(e);if(!n.mapKeyWarned){let t=JSON.stringify(i);t.length>40&&(t=t.substring(0,36)+'..."'),r=`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`,"debug"!==(o=n.doc.options.logLevel)&&"warn"!==o||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(r):console.warn(r)),n.mapKeyWarned=!0}return i}var o,r;return JSON.stringify(e)}(n,r,t),s=x(o,i,t);i in e?Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):e[i]=s}}return e}const rt=t=>"<<"===t||u(t)&&"<<"===t.value&&(!t.type||t.type===F.PLAIN);function it(t,e,n){const o=t&&a(n)?n.resolve(t.doc):n;if(!c(o))throw new Error("Merge sources must be maps or map aliases");const r=o.toJSON(null,t,Map);for(const[t,n]of r)e instanceof Map?e.has(t)||e.set(t,n):e instanceof Set?e.add(t):Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0});return e}function st(t,e,n){const o=_(t,void 0,n),r=_(e,void 0,n);return new at(o,r)}class at{constructor(t,e=null){Object.defineProperty(this,s,{value:o}),this.key=t,this.value=e}clone(t){let{key:e,value:n}=this;return d(e)&&(e=e.clone(t)),d(n)&&(n=n.clone(t)),new at(e,n)}toJSON(t,e){return ot(e,e?.mapAsMap?new Map:{},this)}toString(t,e,n){return t?.doc?function({key:t,value:e},n,o,r){const{allNullValues:i,doc:s,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=n;let p=d(t)&&t.comment||null;if(h){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(m(t))throw new Error("With simple keys, collection cannot be used as a key value")}let y=!h&&(!t||p&&null==e&&!n.inFlow||m(t)||(u(t)?t.type===F.BLOCK_FOLDED||t.type===F.BLOCK_LITERAL:"object"==typeof t));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(h||!i),indent:a+l});let b,v,w,S=!1,O=!1,$=nt(t,n,(()=>S=!0),(()=>O=!0));if(!y&&!n.inFlow&&$.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(i||null==e)return S&&o&&o(),""===$?"?":y?`? ${$}`:$}else if(i&&!h||null==e&&y)return $=`? ${$}`,p&&!S?$+=U($,n.indent,c(p)):O&&r&&r(),$;S&&(p=null),y?(p&&($+=U($,n.indent,c(p))),$=`? ${$}\n${a}:`):($=`${$}:`,p&&($+=U($,n.indent,c(p)))),d(e)?(b=!!e.spaceBefore,v=e.commentBefore,w=e.comment):(b=!1,v=null,w=null,e&&"object"==typeof e&&(e=s.createNode(e))),n.implicitKey=!1,y||p||!u(e)||(n.indentAtStart=$.length+1),O=!1,f||!(l.length>=2)||n.inFlow||y||!g(e)||e.flow||e.tag||e.anchor||(n.indent=n.indent.substring(2));let N=!1;const E=nt(e,n,(()=>N=!0),(()=>O=!0));let k=" ";if(p||b||v)k=b?"\n":"",v&&(k+=`\n${J(c(v),n.indent)}`),""!==E||n.inFlow?k+=`\n${n.indent}`:"\n"===k&&(k="\n\n");else if(!y&&m(e)){const t=E[0],o=E.indexOf("\n"),r=-1!==o,i=n.inFlow??e.flow??0===e.items.length;if(r||!i){let e=!1;if(r&&("&"===t||"!"===t)){let n=E.indexOf(" ");"&"===t&&-1!==n&&n<o&&"!"===E[n+1]&&(n=E.indexOf(" ",n+1)),(-1===n||o<n)&&(e=!0)}e||(k=`\n${n.indent}`)}}else""!==E&&"\n"!==E[0]||(k="");return $+=k+E,n.inFlow?N&&o&&o():w&&!N?$+=U($,n.indent,c(w)):O&&r&&r(),$}(this,t,e,n):JSON.stringify(this)}}function lt(t,e,n){return(e.inFlow??t.flow?ft:ct)(t,e,n)}function ct({comment:t,items:e},n,{blockItemPrefix:o,flowChars:r,itemIndent:i,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let g=!1;const m=[];for(let t=0;t<e.length;++t){const r=e[t];let s=null;if(d(r))!g&&r.spaceBefore&&m.push(""),ut(n,m,r.commentBefore,g),r.comment&&(s=r.comment);else if(f(r)){const t=d(r.key)?r.key:null;t&&(!g&&t.spaceBefore&&m.push(""),ut(n,m,t.commentBefore,g))}g=!1;let a=nt(r,u,(()=>s=null),(()=>g=!0));s&&(a+=U(a,i,c(s))),g&&s&&(g=!1),m.push(o+a)}let h;if(0===m.length)h=r.start+r.end;else{h=m[0];for(let t=1;t<m.length;++t){const e=m[t];h+=e?`\n${l}${e}`:"\n"}}return t?(h+="\n"+J(c(t),l),a&&a()):g&&s&&s(),h}function ft({comment:t,items:e},n,{flowChars:o,itemIndent:r,onComment:i}){const{indent:s,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=n;r+=a;const u=Object.assign({},n,{indent:r,inFlow:!0,type:null});let g=!1,m=0;const h=[];for(let t=0;t<e.length;++t){const o=e[t];let i=null;if(d(o))o.spaceBefore&&h.push(""),ut(n,h,o.commentBefore,!1),o.comment&&(i=o.comment);else if(f(o)){const t=d(o.key)?o.key:null;t&&(t.spaceBefore&&h.push(""),ut(n,h,t.commentBefore,!1),t.comment&&(g=!0));const e=d(o.value)?o.value:null;e?(e.comment&&(i=e.comment),e.commentBefore&&(g=!0)):null==o.value&&t?.comment&&(i=t.comment)}i&&(g=!0);let s=nt(o,u,(()=>i=null));t<e.length-1&&(s+=","),i&&(s+=U(s,r,c(i))),!g&&(h.length>m||s.includes("\n"))&&(g=!0),h.push(s),m=h.length}let p;const{start:y,end:b}=o;if(0===h.length)p=y+b;else if(g||(g=h.reduce(((t,e)=>t+e.length+2),2)>D.maxFlowStringSingleLineLength),g){p=y;for(const t of h)p+=t?`\n${a}${s}${t}`:"\n";p+=`\n${s}${b}`}else p=`${y}${l}${h.join(" ")}${l}${b}`;return t&&(p+=U(p,s,c(t)),i&&i()),p}function ut({indent:t,options:{commentString:e}},n,o,r){if(o&&r&&(o=o.replace(/^\n+/,"")),o){const r=J(e(o),t);n.push(r.trimStart())}}function gt(t,e){const n=u(e)?e.value:e;for(const o of t)if(f(o)){if(o.key===e||o.key===n)return o;if(u(o.key)&&o.key.value===n)return o}}class mt extends D{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(n,t),this.items=[]}static from(t,e,n){const{keepUndefined:o,replacer:r}=n,i=new this(t),s=(t,s)=>{if("function"==typeof r)s=r.call(e,t,s);else if(Array.isArray(r)&&!r.includes(t))return;(void 0!==s||o)&&i.items.push(st(t,s,n))};if(e instanceof Map)for(const[t,n]of e)s(t,n);else if(e&&"object"==typeof e)for(const t of Object.keys(e))s(t,e[t]);return"function"==typeof t.sortMapEntries&&i.items.sort(t.sortMapEntries),i}add(t,e){let n;n=f(t)?t:t&&"object"==typeof t&&"key"in t?new at(t.key,t.value):new at(t,t?.value);const o=gt(this.items,n.key),r=this.schema?.sortMapEntries;if(o){if(!e)throw new Error(`Key ${n.key} already set`);u(o.value)&&T(n.value)?o.value.value=n.value:o.value=n.value}else if(r){const t=this.items.findIndex((t=>r(n,t)<0));-1===t?this.items.push(n):this.items.splice(t,0,n)}else this.items.push(n)}delete(t){const e=gt(this.items,t);return!!e&&this.items.splice(this.items.indexOf(e),1).length>0}get(t,e){const n=gt(this.items,t),o=n?.value;return(!e&&u(o)?o.value:o)??void 0}has(t){return!!gt(this.items,t)}set(t,e){this.add(new at(t,e),!0)}toJSON(t,e,n){const o=n?new n:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(o);for(const t of this.items)ot(e,o,t);return o}toString(t,e,n){if(!t)return JSON.stringify(this);for(const t of this.items)if(!f(t))throw new Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),lt(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:e})}}const dt={collection:"map",default:!0,nodeClass:mt,tag:"tag:yaml.org,2002:map",resolve(t,e){return c(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>mt.from(t,e,n)};class ht extends D{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(i,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=pt(t);return"number"==typeof e&&this.items.splice(e,1).length>0}get(t,e){const n=pt(t);if("number"!=typeof n)return;const o=this.items[n];return!e&&u(o)?o.value:o}has(t){const e=pt(t);return"number"==typeof e&&e<this.items.length}set(t,e){const n=pt(t);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${t}.`);const o=this.items[n];u(o)&&T(e)?o.value=e:this.items[n]=e}toJSON(t,e){const n=[];e?.onCreate&&e.onCreate(n);let o=0;for(const t of this.items)n.push(x(t,String(o++),e));return n}toString(t,e,n){return t?lt(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:e}):JSON.stringify(this)}static from(t,e,n){const{replacer:o}=n,r=new this(t);if(e&&Symbol.iterator in Object(e)){let t=0;for(let i of e){if("function"==typeof o){const n=e instanceof Set?i:String(t++);i=o.call(e,n,i)}r.items.push(_(i,void 0,n))}}return r}}function pt(t){let e=u(t)?t.value:t;return e&&"string"==typeof e&&(e=Number(e)),"number"==typeof e&&Number.isInteger(e)&&e>=0?e:null}const yt={collection:"seq",default:!0,nodeClass:ht,tag:"tag:yaml.org,2002:seq",resolve(t,e){return g(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>ht.from(t,e,n)},bt={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,o){return et(t,e=Object.assign({actualString:!0},e),n,o)}},vt={identify:t=>null==t,createNode:()=>new F(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new F(null),stringify:({source:t},e)=>"string"==typeof t&&vt.test.test(t)?t:e.options.nullStr},wt={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new F("t"===t[0]||"T"===t[0]),stringify({source:t,value:e},n){return t&&wt.test.test(t)&&e===("t"===t[0]||"T"===t[0])?t:e?n.options.trueStr:n.options.falseStr}};function St({format:t,minFractionDigits:e,tag:n,value:o}){if("bigint"==typeof o)return String(o);const r="number"==typeof o?o:Number(o);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(o);if(!t&&e&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let t=i.indexOf(".");t<0&&(t=i.length,i+=".");let n=e-(i.length-t-1);for(;n-- >0;)i+="0"}return i}const Ot={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():St(t)}},$t=t=>"bigint"==typeof t||Number.isInteger(t),Nt=(t,e,n,{intAsBigInt:o})=>o?BigInt(t):parseInt(t.substring(e),n);function Et(t,e,n){const{value:o}=t;return $t(o)&&o>=0?n+o.toString(e):St(t)}const kt=[dt,yt,bt,vt,wt,{identify:t=>$t(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Nt(t,2,8,n),stringify:t=>Et(t,8,"0o")},{identify:$t,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Nt(t,0,10,n),stringify:St},{identify:t=>$t(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Nt(t,2,16,n),stringify:t=>Et(t,16,"0x")},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:St},Ot,{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new F(parseFloat(t)),n=t.indexOf(".");return-1!==n&&"0"===t[t.length-1]&&(e.minFractionDigits=t.length-n-1),e},stringify:St}];function At(t){return"bigint"==typeof t||Number.isInteger(t)}const It=({value:t})=>JSON.stringify(t),jt=[dt,yt].concat([{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:It},{identify:t=>null==t,createNode:()=>new F(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:It},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>"true"===t,stringify:It},{identify:At,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>At(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:It}],{default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}}),xt={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if("function"==typeof Buffer)return Buffer.from(t,"base64");if("function"==typeof atob){const e=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(e.length);for(let t=0;t<e.length;++t)n[t]=e.charCodeAt(t);return n}return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},o,r,i){const s=n;let a;if("function"==typeof Buffer)a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let t="";for(let e=0;e<s.length;++e)t+=String.fromCharCode(s[e]);a=btoa(t)}}if(e||(e=F.BLOCK_LITERAL),e!==F.QUOTE_DOUBLE){const t=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),n=Math.ceil(a.length/t),r=new Array(n);for(let e=0,o=0;e<n;++e,o+=t)r[e]=a.substr(o,t);a=r.join(e===F.BLOCK_LITERAL?"\n":" ")}return et({comment:t,type:e,value:a},o,r,i)}};function Ct(t,e){if(g(t))for(let n=0;n<t.items.length;++n){let o=t.items[n];if(!f(o)){if(c(o)){o.items.length>1&&e("Each pair must have its own sequence indicator");const t=o.items[0]||new at(new F(null));if(o.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${o.commentBefore}\n${t.key.commentBefore}`:o.commentBefore),o.comment){const e=t.value??t.key;e.comment=e.comment?`${o.comment}\n${e.comment}`:o.comment}o=t}t.items[n]=f(o)?o:new at(o)}}else e("Expected a sequence for this tag");return t}function Lt(t,e,n){const{replacer:o}=n,r=new ht(t);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let t of e){let s,a;if("function"==typeof o&&(t=o.call(e,String(i++),t)),Array.isArray(t)){if(2!==t.length)throw new TypeError(`Expected [key, value] tuple: ${t}`);s=t[0],a=t[1]}else if(t&&t instanceof Object){const e=Object.keys(t);if(1!==e.length)throw new TypeError(`Expected tuple with one key, not ${e.length} keys`);s=e[0],a=t[s]}else s=t;r.items.push(st(s,a,n))}return r}const Bt={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ct,createNode:Lt};class Tt extends ht{constructor(){super(),this.add=mt.prototype.add.bind(this),this.delete=mt.prototype.delete.bind(this),this.get=mt.prototype.get.bind(this),this.has=mt.prototype.has.bind(this),this.set=mt.prototype.set.bind(this),this.tag=Tt.tag}toJSON(t,e){if(!e)return super.toJSON(t);const n=new Map;e?.onCreate&&e.onCreate(n);for(const t of this.items){let o,r;if(f(t)?(o=x(t.key,"",e),r=x(t.value,o,e)):o=x(t,"",e),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,r)}return n}static from(t,e,n){const o=Lt(t,e,n),r=new this;return r.items=o.items,r}}Tt.tag="tag:yaml.org,2002:omap";const Ft={collection:"seq",identify:t=>t instanceof Map,nodeClass:Tt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Ct(t,e),o=[];for(const{key:t}of n.items)u(t)&&(o.includes(t.value)?e(`Ordered maps must not include duplicate keys: ${t.value}`):o.push(t.value));return Object.assign(new Tt,n)},createNode:(t,e,n)=>Tt.from(t,e,n)};function Mt({value:t,source:e},n){return e&&(t?_t:Kt).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const _t={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new F(!0),stringify:Mt},Kt={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new F(!1),stringify:Mt},Dt={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:St},Pt={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():St(t)}},Jt={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new F(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(-1!==n){const o=t.substring(n+1).replace(/_/g,"");"0"===o[o.length-1]&&(e.minFractionDigits=o.length)}return e},stringify:St},Ut=t=>"bigint"==typeof t||Number.isInteger(t);function Rt(t,e,n,{intAsBigInt:o}){const r=t[0];if("-"!==r&&"+"!==r||(e+=1),t=t.substring(e).replace(/_/g,""),o){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}const e=BigInt(t);return"-"===r?BigInt(-1)*e:e}const i=parseInt(t,n);return"-"===r?-1*i:i}function Wt(t,e,n){const{value:o}=t;if(Ut(o)){const t=o.toString(e);return o<0?"-"+n+t.substr(1):n+t}return St(t)}const Vt={identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Rt(t,2,2,n),stringify:t=>Wt(t,2,"0b")},qt={identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Rt(t,1,8,n),stringify:t=>Wt(t,8,"0")},Yt={identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Rt(t,0,10,n),stringify:St},Qt={identify:Ut,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Rt(t,2,16,n),stringify:t=>Wt(t,16,"0x")};class zt extends mt{constructor(t){super(t),this.tag=zt.tag}add(t){let e;e=f(t)?t:t&&"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new at(t.key,null):new at(t,null),gt(this.items,e.key)||this.items.push(e)}get(t,e){const n=gt(this.items,t);return!e&&f(n)?u(n.key)?n.key.value:n.key:n}set(t,e){if("boolean"!=typeof e)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof e);const n=gt(this.items,t);n&&!e?this.items.splice(this.items.indexOf(n),1):!n&&e&&this.items.push(new at(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,n);throw new Error("Set items must all have null values")}static from(t,e,n){const{replacer:o}=n,r=new this(t);if(e&&Symbol.iterator in Object(e))for(let t of e)"function"==typeof o&&(t=o.call(e,t,t)),r.items.push(st(t,null,n));return r}}zt.tag="tag:yaml.org,2002:set";const Gt={collection:"map",identify:t=>t instanceof Set,nodeClass:zt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>zt.from(t,e,n),resolve(t,e){if(c(t)){if(t.hasAllNullValues(!0))return Object.assign(new zt,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Xt(t,e){const n=t[0],o="-"===n||"+"===n?t.substring(1):t,r=t=>e?BigInt(t):Number(t),i=o.replace(/_/g,"").split(":").reduce(((t,e)=>t*r(60)+r(e)),r(0));return"-"===n?r(-1)*i:i}function Zt(t){let{value:e}=t,n=t=>t;if("bigint"==typeof e)n=t=>BigInt(t);else if(isNaN(e)||!isFinite(e))return St(t);let o="";e<0&&(o="-",e*=n(-1));const r=n(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),o+i.map((t=>String(t).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const Ht={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Xt(t,n),stringify:Zt},te={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Xt(t,!1),stringify:Zt},ee={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ee.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,o,r,i,s,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,o-1,r,i||0,s||0,a||0,l);const f=e[8];if(f&&"Z"!==f){let t=Xt(f,!1);Math.abs(t)<30&&(t*=60),c-=6e4*t}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},ne=[dt,yt,bt,vt,_t,Kt,Vt,qt,Yt,Qt,Dt,Pt,Jt,xt,Ft,Bt,Gt,Ht,te,ee];new Map([["core",kt],["failsafe",[dt,yt,bt]],["json",jt],["yaml11",ne],["yaml-1.1",ne]]),Error;const oe=Symbol("break visit"),re=Symbol("skip children"),ie=Symbol("remove item");function se(t,e){"type"in t&&"document"===t.type&&(t={start:t.start,value:t.value}),ae(Object.freeze([]),t,e)}function ae(t,e,n){let o=n(e,t);if("symbol"==typeof o)return o;for(const r of["key","value"]){const i=e[r];if(i&&"items"in i){for(let e=0;e<i.items.length;++e){const o=ae(Object.freeze(t.concat([[r,e]])),i.items[e],n);if("number"==typeof o)e=o-1;else{if(o===oe)return oe;o===ie&&(i.items.splice(e,1),e-=1)}}"function"==typeof o&&"key"===r&&(o=o(e,t))}}return"function"==typeof o?o(e,t):o}se.BREAK=oe,se.SKIP=re,se.REMOVE=ie,se.itemAtPath=(t,e)=>{let n=t;for(const[t,o]of e){const e=n?.[t];if(!e||!("items"in e))return;n=e.items[o]}return n},se.parentCollection=(t,e)=>{const n=se.itemAtPath(t,e.slice(0,-1)),o=e[e.length-1][0],r=n?.[o];if(r&&"items"in r)return r;throw new Error("Parent collection not found")},"0123456789ABCDEFabcdef".split(""),"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),",[]{}".split("")," ,[]{}\n\r\t".split("")}();